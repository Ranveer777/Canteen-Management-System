{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Login</title>
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://kit.fontawesome.com/ef0ed2e060.js"></script>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="{% static 'js/jquery-drawsvg-master/jquery-drawsvg-master/src/jquery.drawsvg.js' %}"></script>
</head>
<body>
    {% if user.is_authenticated %}
        <h1 class="heading">You Are Already Logged In</h1>
        <a href="/products" class="btn">GO TO CART</a><br>
        <a href="/accounts/logout" class="btn">LOGOUT</a>
    {% else %}
    <div class="container">
        <h1 class="heading">
            Login
        </h1>
            {% for message in messages %}
                <p class="error">{{message}}</p>
            {% endfor %}
        
        <form action="/accounts/" method="POST">
            {% csrf_token %}
            <input type="text" placeholder="Login ID" name="username" id="username"><br/>
            <input type="password" placeholder="Password" name="password" id="password"><br/>
            <input type="password" placeholder="ID Card" name="id-card-no" autofocus="autofocus" id="id-card"><br/>
            <button type="submit" id="subHere">Sign In</button>
            <button><a href="/accounts/register/">Register</a></button><br/>
            <a href="" class="link">Forgot Password?</a>
        </form>
        <br/>
        <div class="line"></div> <span class="seperator">OR</span> <div class="line"></div> 
        <br/>
        <img src="{% static 'Images/ID.svg' %}" id="ID-svg" alt="" class="id-card">
        <h3 class="small-heading">Scan ID Card</h3>
    </div>
    <div class="id-card-svg">
        <?xml version="1.0" encoding="UTF-8" standalone="no"?>
        <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="xMidYMid meet" viewBox="78.70760025966271 31.99009900990106 501.4808390846349 296.5792079207921" width="496.98" height="292.08"><defs><path d="M567.19 33.49C572.71 33.49 577.19 37.97 577.19 43.49C577.19 99.91 577.19 259.15 577.19 315.57C577.19 321.09 572.71 325.57 567.19 325.57C469.79 325.57 187.6 325.57 90.21 325.57C84.68 325.57 80.21 321.09 80.21 315.57C80.21 259.15 80.21 99.91 80.21 43.49C80.21 37.97 84.68 33.49 90.21 33.49C187.6 33.49 469.79 33.49 567.19 33.49Z" id="a2QYEFEU8m"></path><path d="M232.31 58.91C237.71 58.91 242.1 63.29 242.1 68.7C242.1 99.12 242.1 180.59 242.1 211.01C242.1 216.42 237.71 220.8 232.31 220.8C207.68 220.8 143.61 220.8 118.98 220.8C113.58 220.8 109.19 216.42 109.19 211.01C109.19 180.59 109.19 99.12 109.19 68.7C109.19 63.29 113.58 58.91 118.98 58.91C143.61 58.91 207.68 58.91 232.31 58.91Z" id="a7kC159z"></path><path d="M537.5 58.91C543.02 58.91 547.5 63.39 547.5 68.91C547.5 74.14 547.5 79.82 547.5 85.05C547.5 90.57 543.02 95.05 537.5 95.05C503.02 95.05 409.58 95.05 375.11 95.05C369.58 95.05 365.11 90.57 365.11 85.05C365.11 79.82 365.11 74.14 365.11 68.91C365.11 63.39 369.58 58.91 375.11 58.91C409.58 58.91 503.02 58.91 537.5 58.91Z" id="d2ztDXxK8W"></path><path d="M537.5 109.5C543.02 109.5 547.5 113.98 547.5 119.5C547.5 124.73 547.5 130.42 547.5 135.64C547.5 141.17 543.02 145.64 537.5 145.64C503.02 145.64 409.58 145.64 375.11 145.64C369.58 145.64 365.11 141.17 365.11 135.64C365.11 130.42 365.11 124.73 365.11 119.5C365.11 113.98 369.58 109.5 375.11 109.5C409.58 109.5 503.02 109.5 537.5 109.5Z" id="g6vJ9dolnr"></path><path d="M537.5 165.05C543.02 165.05 547.5 169.53 547.5 175.05C547.5 180.28 547.5 185.96 547.5 191.19C547.5 196.71 543.02 201.19 537.5 201.19C487.47 201.19 347.37 201.19 297.34 201.19C291.82 201.19 287.34 196.71 287.34 191.19C287.34 185.96 287.34 180.28 287.34 175.05C287.34 169.53 291.82 165.05 297.34 165.05C347.37 165.05 487.47 165.05 537.5 165.05Z" id="f3DKq8UzT"></path><path d="M538.67 247.42C543.54 247.42 547.5 251.38 547.5 256.25C547.5 264.1 547.5 278.82 547.5 286.67C547.5 291.54 543.54 295.5 538.67 295.5C452.77 295.5 203.92 295.5 118.02 295.5C113.14 295.5 109.19 291.54 109.19 286.67C109.19 278.82 109.19 264.1 109.19 256.25C109.19 251.38 113.14 247.42 118.02 247.42C203.92 247.42 452.77 247.42 538.67 247.42Z" id="d2tDzJkaO0"></path></defs><g><g><g><use xlink:href="#a2QYEFEU8m" opacity="1" fill-opacity="0" stroke="#ffffff" stroke-width="3" stroke-opacity="1"></use></g></g><g><g><use xlink:href="#a7kC159z" opacity="1" fill-opacity="0" stroke="#ffffff" stroke-width="3" stroke-opacity="1"></use></g></g><g><g><use xlink:href="#d2ztDXxK8W" opacity="1" fill-opacity="0" stroke="#ffffff" stroke-width="3" stroke-opacity="1"></use></g></g><g><g><use xlink:href="#g6vJ9dolnr" opacity="1" fill-opacity="0" stroke="#ffffff" stroke-width="3" stroke-opacity="1"></use></g></g><g><g><use xlink:href="#f3DKq8UzT" opacity="1" fill-opacity="0" stroke="#ffffff" stroke-width="3" stroke-opacity="1"></use></g></g><g><g><use xlink:href="#d2tDzJkaO0" opacity="1" fill-opacity="0" stroke="#ffffff" stroke-width="3" stroke-opacity="1"></use></g></g></g></svg>
        <h1 class="heading" style="text-align: center; margin-top : 50px; text-shadow : 1px 1px 4px black">Scan Your ID Card</h1>
    </div>
    {% endif %}
    <script>
        var count = 0,
        $svg = $('svg').drawsvg({
            
        callback: function() {
                animate();
            }
        });

function animate() {
  $svg.drawsvg('animate');  
}

animate();
    </script>
    <script>
        window.setInterval(function()
        {
            var card = document.getElementById('id-card').value;
            document.getElementById('username').value = card;
            document.getElementById('password').value = card;
        }
        ,100)
    </script>
    <script>
        window.onload = function(){
            document.getElementById('id-card').value = "";
           }
      window.setInterval(function(){
            var barcode = document.getElementById('id-card').value.length;
            if(barcode == 11)
            {
                document.getElementById('subHere').click();
            }
      }, 1000)
  </script>
</body>
</html>